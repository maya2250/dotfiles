#!/bin/bash -eux

apt_repositories_list=(
    ppa:mkusb/ppa
)

for repo in "${apt_repositories_list[@]}"; do
    sudo add-apt-repository -y "${repo}"
done

sudo apt-get update -q

apt_packages_list=(
    emacs
    emacs-mozc-bin
    cmus
    tree
    xsel
    pinta
    net-tools
    vim
    fonts-noto-color-emoji
    graphviz
    htop
    vlc
    libreoffice
    libvirt-clients
    libvirt-daemon
    virt-manager
    qemu-kvm
    nmap
    jq
    mozc-utils-gui
    piper
    speedtest-cli
    pwgen
    glances
    stress
    stress-ng
    ngrep
    fcitx
    fcitx-mozc
    mkusb
)

sudo apt-get install -qq "${apt_packages_list[@]}"

mkdir -p ~/.config/autostart

autostart_package=(emacs.desktop)

for package in "${autostart_package[@]}"; do
    test -f /usr/share/applications/"${package}" && \
        ln -sf /usr/share/applications/"${package}" ~/.config/autostart/"${package}"
done
